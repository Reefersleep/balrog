shadow$provide.module$node_modules$react_dnd_cjs$lib$common$SourceConnector=function(global,require,module,exports){global=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var wrapConnectorHooks_1=global(require("module$node_modules$react_dnd_cjs$lib$common$wrapConnectorHooks")),isRef_1=require("module$node_modules$react_dnd_cjs$lib$utils$isRef"),shallowequal_1=global(require("module$node_modules$shallowequal$index"));
require=function(){function SourceConnector(backend){var _this=this;this.hooks=wrapConnectorHooks_1.default({dragSource:function(node,options){_this.clearDragSource();_this.dragSourceOptions=options||null;isRef_1.isRef(node)?_this.dragSourceRef=node:_this.dragSourceNode=node;_this.reconnectDragSource()},dragPreview:function(node,options){_this.clearDragPreview();_this.dragPreviewOptions=options||null;isRef_1.isRef(node)?_this.dragPreviewRef=node:_this.dragPreviewNode=node;_this.reconnectDragPreview()}});
this.lastConnectedDragPreviewOptions=this.lastConnectedDragPreview=this.lastConnectedDragSourceOptions=this.lastConnectedDragSource=this.lastConnectedHandlerId=this.dragPreviewOptionsInternal=this.dragPreviewRef=this.dragSourceOptionsInternal=this.dragSourceRef=this.handlerId=null;this.backend=backend}SourceConnector.prototype.receiveHandlerId=function(newHandlerId){this.handlerId!==newHandlerId&&(this.handlerId=newHandlerId,this.reconnect())};Object.defineProperty(SourceConnector.prototype,"connectTarget",
{get:function(){return this.dragSource},enumerable:!0,configurable:!0});Object.defineProperty(SourceConnector.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(options){this.dragSourceOptionsInternal=options},enumerable:!0,configurable:!0});Object.defineProperty(SourceConnector.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(options){this.dragPreviewOptionsInternal=options},enumerable:!0,configurable:!0});
SourceConnector.prototype.reconnect=function(){this.reconnectDragSource();this.reconnectDragPreview()};SourceConnector.prototype.reconnectDragSource=function(){var dragSource=this.dragSource,didChange=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();didChange&&this.disconnectDragSource();this.handlerId&&(dragSource?didChange&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=dragSource,this.lastConnectedDragSourceOptions=this.dragSourceOptions,
this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,dragSource,this.dragSourceOptions)):this.lastConnectedDragSource=dragSource)};SourceConnector.prototype.reconnectDragPreview=function(){var dragPreview=this.dragPreview,didChange=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&didChange&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=dragPreview,this.lastConnectedDragPreviewOptions=
this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,dragPreview,this.dragPreviewOptions)):this.disconnectDragPreview()};SourceConnector.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId};SourceConnector.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource};SourceConnector.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==
this.dragPreview};SourceConnector.prototype.didDragSourceOptionsChange=function(){return!shallowequal_1.default(this.lastConnectedDragSourceOptions,this.dragSourceOptions)};SourceConnector.prototype.didDragPreviewOptionsChange=function(){return!shallowequal_1.default(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)};SourceConnector.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)};SourceConnector.prototype.disconnectDragPreview=
function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewRef=this.dragPreviewNode=null)};Object.defineProperty(SourceConnector.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0});Object.defineProperty(SourceConnector.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,
configurable:!0});SourceConnector.prototype.clearDragSource=function(){this.dragSourceRef=this.dragSourceNode=null};SourceConnector.prototype.clearDragPreview=function(){this.dragPreviewRef=this.dragPreviewNode=null};return SourceConnector}();exports.SourceConnector=require}
//# sourceMappingURL=module$node_modules$react_dnd_cjs$lib$common$SourceConnector.js.map
