shadow$provide.module$node_modules$react_dnd_cjs$lib$hooks$internal$drag=function(global,require,module,exports){global=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=require("module$node_modules$react$index"),invariant_1=global(require("module$node_modules$invariant$browser")),registration_1=require("module$node_modules$react_dnd_cjs$lib$common$registration"),useDragDropManager_1=require("module$node_modules$react_dnd_cjs$lib$hooks$internal$useDragDropManager"),
DragSourceMonitorImpl_1=require("module$node_modules$react_dnd_cjs$lib$common$DragSourceMonitorImpl"),SourceConnector_1=require("module$node_modules$react_dnd_cjs$lib$common$SourceConnector"),useIsomorphicLayoutEffect_1=require("module$node_modules$react_dnd_cjs$lib$hooks$internal$useIsomorphicLayoutEffect");exports.useDragSourceMonitor=function(){var manager=useDragDropManager_1.useDragDropManager(),monitor=react_1.useMemo(function(){return new DragSourceMonitorImpl_1.DragSourceMonitorImpl(manager)},
[manager]),connector=react_1.useMemo(function(){return new SourceConnector_1.SourceConnector(manager.getBackend())},[manager]);return[monitor,connector]};exports.useDragHandler=function(spec,monitor,connector){var manager=useDragDropManager_1.useDragDropManager(),handler=react_1.useMemo(function(){return{beginDrag:function(){var _a=spec.current,begin=_a.begin;_a=_a.item;return begin?(begin=begin(monitor),invariant_1.default(null==begin||"object"===typeof begin,"dragSpec.begin() must either return an object, undefined, or null"),
begin||_a||{}):_a||{}},canDrag:function(){return"boolean"===typeof spec.current.canDrag?spec.current.canDrag:"function"===typeof spec.current.canDrag?spec.current.canDrag(monitor):!0},isDragging:function(globalMonitor,target){var isDragging=spec.current.isDragging;return isDragging?isDragging(monitor):target===globalMonitor.getSourceId()},endDrag:function(){var end=spec.current.end;end&&end(monitor.getItem(),monitor);connector.reconnect()}}},[]);useIsomorphicLayoutEffect_1.useIsomorphicLayoutEffect(function(){var _a=
registration_1.registerSource(spec.current.item.type,handler,manager),handlerId=_a[0];_a=_a[1];monitor.receiveHandlerId(handlerId);connector.receiveHandlerId(handlerId);return _a},[])}}
//# sourceMappingURL=module$node_modules$react_dnd_cjs$lib$hooks$internal$drag.js.map
