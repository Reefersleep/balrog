{
"version":3,
"file":"module$node_modules$react_dnd_cjs$lib$common$SourceConnector.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/react-dnd-cjs/lib/common/SourceConnector.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$react_dnd_cjs$lib$common$SourceConnector\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar wrapConnectorHooks_1 = __importDefault(require(\"./wrapConnectorHooks\"));\nvar isRef_1 = require(\"../utils/isRef\");\nvar shallowequal_1 = __importDefault(require(\"shallowequal\"));\nvar SourceConnector = /** @class */ (function () {\n    function SourceConnector(backend) {\n        var _this = this;\n        this.hooks = wrapConnectorHooks_1.default({\n            dragSource: function (node, options) {\n                _this.clearDragSource();\n                _this.dragSourceOptions = options || null;\n                if (isRef_1.isRef(node)) {\n                    _this.dragSourceRef = node;\n                }\n                else {\n                    _this.dragSourceNode = node;\n                }\n                _this.reconnectDragSource();\n            },\n            dragPreview: function (node, options) {\n                _this.clearDragPreview();\n                _this.dragPreviewOptions = options || null;\n                if (isRef_1.isRef(node)) {\n                    _this.dragPreviewRef = node;\n                }\n                else {\n                    _this.dragPreviewNode = node;\n                }\n                _this.reconnectDragPreview();\n            },\n        });\n        this.handlerId = null;\n        // The drop target may either be attached via ref or connect function\n        this.dragSourceRef = null;\n        this.dragSourceOptionsInternal = null;\n        // The drag preview may either be attached via ref or connect function\n        this.dragPreviewRef = null;\n        this.dragPreviewOptionsInternal = null;\n        this.lastConnectedHandlerId = null;\n        this.lastConnectedDragSource = null;\n        this.lastConnectedDragSourceOptions = null;\n        this.lastConnectedDragPreview = null;\n        this.lastConnectedDragPreviewOptions = null;\n        this.backend = backend;\n    }\n    SourceConnector.prototype.receiveHandlerId = function (newHandlerId) {\n        if (this.handlerId === newHandlerId) {\n            return;\n        }\n        this.handlerId = newHandlerId;\n        this.reconnect();\n    };\n    Object.defineProperty(SourceConnector.prototype, \"connectTarget\", {\n        get: function () {\n            return this.dragSource;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SourceConnector.prototype, \"dragSourceOptions\", {\n        get: function () {\n            return this.dragSourceOptionsInternal;\n        },\n        set: function (options) {\n            this.dragSourceOptionsInternal = options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SourceConnector.prototype, \"dragPreviewOptions\", {\n        get: function () {\n            return this.dragPreviewOptionsInternal;\n        },\n        set: function (options) {\n            this.dragPreviewOptionsInternal = options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SourceConnector.prototype.reconnect = function () {\n        this.reconnectDragSource();\n        this.reconnectDragPreview();\n    };\n    SourceConnector.prototype.reconnectDragSource = function () {\n        var dragSource = this.dragSource;\n        // if nothing has changed then don't resubscribe\n        var didChange = this.didHandlerIdChange() ||\n            this.didConnectedDragSourceChange() ||\n            this.didDragSourceOptionsChange();\n        if (didChange) {\n            this.disconnectDragSource();\n        }\n        if (!this.handlerId) {\n            return;\n        }\n        if (!dragSource) {\n            this.lastConnectedDragSource = dragSource;\n            return;\n        }\n        if (didChange) {\n            this.lastConnectedHandlerId = this.handlerId;\n            this.lastConnectedDragSource = dragSource;\n            this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n            this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n        }\n    };\n    SourceConnector.prototype.reconnectDragPreview = function () {\n        var dragPreview = this.dragPreview;\n        // if nothing has changed then don't resubscribe\n        var didChange = this.didHandlerIdChange() ||\n            this.didConnectedDragPreviewChange() ||\n            this.didDragPreviewOptionsChange();\n        if (!this.handlerId) {\n            this.disconnectDragPreview();\n        }\n        else if (this.dragPreview && didChange) {\n            this.lastConnectedHandlerId = this.handlerId;\n            this.lastConnectedDragPreview = dragPreview;\n            this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n            this.disconnectDragPreview();\n            this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n        }\n    };\n    SourceConnector.prototype.didHandlerIdChange = function () {\n        return this.lastConnectedHandlerId !== this.handlerId;\n    };\n    SourceConnector.prototype.didConnectedDragSourceChange = function () {\n        return this.lastConnectedDragSource !== this.dragSource;\n    };\n    SourceConnector.prototype.didConnectedDragPreviewChange = function () {\n        return this.lastConnectedDragPreview !== this.dragPreview;\n    };\n    SourceConnector.prototype.didDragSourceOptionsChange = function () {\n        return !shallowequal_1.default(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    };\n    SourceConnector.prototype.didDragPreviewOptionsChange = function () {\n        return !shallowequal_1.default(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    };\n    SourceConnector.prototype.disconnectDragSource = function () {\n        if (this.dragSourceUnsubscribe) {\n            this.dragSourceUnsubscribe();\n            this.dragSourceUnsubscribe = undefined;\n        }\n    };\n    SourceConnector.prototype.disconnectDragPreview = function () {\n        if (this.dragPreviewUnsubscribe) {\n            this.dragPreviewUnsubscribe();\n            this.dragPreviewUnsubscribe = undefined;\n            this.dragPreviewNode = null;\n            this.dragPreviewRef = null;\n        }\n    };\n    Object.defineProperty(SourceConnector.prototype, \"dragSource\", {\n        get: function () {\n            return (this.dragSourceNode || (this.dragSourceRef && this.dragSourceRef.current));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SourceConnector.prototype, \"dragPreview\", {\n        get: function () {\n            return (this.dragPreviewNode ||\n                (this.dragPreviewRef && this.dragPreviewRef.current));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SourceConnector.prototype.clearDragSource = function () {\n        this.dragSourceNode = null;\n        this.dragSourceRef = null;\n    };\n    SourceConnector.prototype.clearDragPreview = function () {\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n    };\n    return SourceConnector;\n}());\nexports.SourceConnector = SourceConnector;\n\n};"],
"names":["shadow$provide","global","require","module","exports","__importDefault","mod","__esModule","Object","defineProperty","value","wrapConnectorHooks_1","isRef_1","shallowequal_1","SourceConnector","backend","_this","hooks","default","dragSource","node","options","clearDragSource","dragSourceOptions","isRef","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","lastConnectedDragPreviewOptions","lastConnectedDragPreview","lastConnectedDragSourceOptions","lastConnectedDragSource","lastConnectedHandlerId","dragPreviewOptionsInternal","dragSourceOptionsInternal","handlerId","prototype","receiveHandlerId","SourceConnector.prototype.receiveHandlerId","newHandlerId","reconnect","get","enumerable","configurable","set","SourceConnector.prototype.reconnect","SourceConnector.prototype.reconnectDragSource","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","SourceConnector.prototype.reconnectDragPreview","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","SourceConnector.prototype.didHandlerIdChange","SourceConnector.prototype.didConnectedDragSourceChange","SourceConnector.prototype.didConnectedDragPreviewChange","SourceConnector.prototype.didDragSourceOptionsChange","SourceConnector.prototype.didDragPreviewOptionsChange","SourceConnector.prototype.disconnectDragSource","undefined","SourceConnector.prototype.disconnectDragPreview","current","SourceConnector.prototype.clearDragSource","SourceConnector.prototype.clearDragPreview"]
}
