shadow$provide.module$node_modules$react_dnd_cjs$lib$common$TargetConnector=function(global,require,module,exports){global=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var shallowequal_1=global(require("module$node_modules$shallowequal$index")),wrapConnectorHooks_1=global(require("module$node_modules$react_dnd_cjs$lib$common$wrapConnectorHooks")),isRef_1=require("module$node_modules$react_dnd_cjs$lib$utils$isRef");
require=function(){function TargetConnector(backend){var _this=this;this.hooks=wrapConnectorHooks_1.default({dropTarget:function(node,options){_this.clearDropTarget();_this.dropTargetOptions=options;isRef_1.isRef(node)?_this.dropTargetRef=node:_this.dropTargetNode=node;_this.reconnect()}});this.lastConnectedDropTargetOptions=this.lastConnectedDropTarget=this.lastConnectedHandlerId=this.dropTargetOptionsInternal=this.dropTargetRef=this.handlerId=null;this.backend=backend}Object.defineProperty(TargetConnector.prototype,
"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0});TargetConnector.prototype.reconnect=function(){var didChange=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();didChange&&this.disconnectDropTarget();var dropTarget=this.dropTarget;this.handlerId&&(dropTarget?didChange&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=dropTarget,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=
this.backend.connectDropTarget(this.handlerId,dropTarget,this.dropTargetOptions)):this.lastConnectedDropTarget=dropTarget)};TargetConnector.prototype.receiveHandlerId=function(newHandlerId){newHandlerId!==this.handlerId&&(this.handlerId=newHandlerId,this.reconnect())};Object.defineProperty(TargetConnector.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(options){this.dropTargetOptionsInternal=options},enumerable:!0,configurable:!0});TargetConnector.prototype.didHandlerIdChange=
function(){return this.lastConnectedHandlerId!==this.handlerId};TargetConnector.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget};TargetConnector.prototype.didOptionsChange=function(){return!shallowequal_1.default(this.lastConnectedDropTargetOptions,this.dropTargetOptions)};TargetConnector.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)};Object.defineProperty(TargetConnector.prototype,
"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0});TargetConnector.prototype.clearDropTarget=function(){this.dropTargetNode=this.dropTargetRef=null};return TargetConnector}();exports.TargetConnector=require}
//# sourceMappingURL=module$node_modules$react_dnd_cjs$lib$common$TargetConnector.js.map
